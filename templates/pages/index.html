<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Primary Meta Tags -->
    <title>Trend Radar</title>
    <meta name="title" content="Trend Radar" />
    <meta
      name="description"
      content="Trend Radar - Track trending content from mainstream media"
    />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://trend-radar.ngodings.my.id/" />
    <meta property="og:title" content="Trend Radar" />
    <meta
      property="og:description"
      content="Trend Radar - Track trending content from mainstream media"
    />
    <meta
      property="og:image"
      content="https://trend-radar.ngodings.my.id/static/img/banner.png"
    />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta
      property="twitter:url"
      content="https://trend-radar.ngodings.my.id/"
    />
    <meta property="twitter:title" content="Trend Radar" />
    <meta
      property="twitter:description"
      content="Trend Radar - Track trending content from mainstream media"
    />
    <meta
      property="twitter:image"
      content="https://trend-radar.ngodings.my.id/static/img/banner.png"
    />

    <style>
      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
      }

      .grid-2-columns {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 20px;
        margin-bottom: 40px;
      }

      .youtube-item {
        display: flex;
        flex-direction: column;
        margin-bottom: 20px;
      }

      .youtube-item img {
        width: 100%;
        max-width: 320px;
        height: auto;
      }

      .news-item {
        padding: 10px;
        border-bottom: 1px solid #eee;
      }

      .trend-item {
        padding: 15px;
        border: 1px solid #eee;
        border-radius: 8px;
        margin-bottom: 20px;
      }

      .trend-item img {
        max-width: 100%;
        height: auto;
      }

      h1,
      h2 {
        text-align: center;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>Trend Radar</h1>

      {% if youtube_trends %}
      <h2>YouTube Trends</h2>
      <div class="grid-2-columns">
        <div>
          {% for video in youtube_trends[:10] %}
          <div class="youtube-item">
            <img src="{{ video.thumbnail }}" alt="{{ video.title }}" />
            <a
              href="https://www.youtube.com/watch?v={{ video.id }}"
              target="_blank"
              rel="noopener noreferrer"
            >
              {{ video.title }}
            </a>
          </div>
          {% endfor %}
        </div>
        <div>
          {% for video in youtube_trends[10:] %}
          <div class="youtube-item">
            <img src="{{ video.thumbnail }}" alt="{{ video.title }}" />
            <a
              href="https://www.youtube.com/watch?v={{ video.id }}"
              target="_blank"
              rel="noopener noreferrer"
            >
              {{ video.title }}
            </a>
          </div>
          {% endfor %}
        </div>
      </div>
      {% endif %} {% if google_top_news %}
      <h2>Google Top News</h2>
      <div class="grid-2-columns">
        <div>
          {% for news in google_top_news[:10] %}
          <div class="news-item">
            <a href="{{ news.url }}" target="_blank" rel="noopener noreferrer">
              {{ news.title }}
            </a>
          </div>
          {% endfor %}
        </div>
        <div>
          {% for news in google_top_news[10:] %}
          <div class="news-item">
            <a href="{{ news.url }}" target="_blank" rel="noopener noreferrer">
              {{ news.title }}
            </a>
          </div>
          {% endfor %}
        </div>
      </div>

      {% if topic_news %} {% for topic_name, topic_articles in
      topic_news.items() %}
      <h3>{{ topic_name }} News</h3>
      <div class="grid-2-columns">
        <div>
          {% for news in topic_articles[:5] %}
          <div class="news-item">
            <a href="{{ news.url }}" target="_blank" rel="noopener noreferrer">
              {{ news.title }}
            </a>
            {% if news.publisher %}
            <small>({{ news.publisher }})</small>
            {% endif %}
          </div>
          {% endfor %}
        </div>
        <div>
          {% for news in topic_articles[5:] %}
          <div class="news-item">
            <a href="{{ news.url }}" target="_blank" rel="noopener noreferrer">
              {{ news.title }}
            </a>
            {% if news.publisher %}
            <small>({{ news.publisher }})</small>
            {% endif %}
          </div>
          {% endfor %}
        </div>
      </div>
      {% endfor %} {% endif %} {% endif %} {% if google_trends %}
      <h2>Google Trends Indonesia</h2>
      <div class="grid-2-columns">
        <div>
          {% for trend in google_trends.trends[:5] %}
          <div class="trend-item">
            <h3>{{ trend.title }}</h3>
            {% if trend.traffic %}
            <p>Traffic: {{ trend.traffic }}</p>
            {% endif %} {% if trend.picture %}
            <img src="{{ trend.picture }}" alt="{{ trend.title }}" />
            {% if trend.picture_source %}
            <small>Source: {{ trend.picture_source }}</small>
            {% endif %} {% endif %} {% if trend.news_items %}
            <h4>Related News:</h4>
            <ul>
              {% for news in trend.news_items %}
              <li>
                <a
                  href="{{ news.url }}"
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  {{ news.title }}
                </a>
                {% if news.source %}
                <small>({{ news.source }})</small>
                {% endif %}
              </li>
              {% endfor %}
            </ul>
            {% endif %}
          </div>
          {% endfor %}
        </div>
        <div>
          {% for trend in google_trends.trends[5:] %}
          <div class="trend-item">
            <h3>{{ trend.title }}</h3>
            {% if trend.traffic %}
            <p>Traffic: {{ trend.traffic }}</p>
            {% endif %} {% if trend.picture %}
            <img src="{{ trend.picture }}" alt="{{ trend.title }}" />
            {% if trend.picture_source %}
            <small>Source: {{ trend.picture_source }}</small>
            {% endif %} {% endif %} {% if trend.news_items %}
            <h4>Related News:</h4>
            <ul>
              {% for news in trend.news_items %}
              <li>
                <a
                  href="{{ news.url }}"
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  {{ news.title }}
                </a>
                {% if news.source %}
                <small>({{ news.source }})</small>
                {% endif %}
              </li>
              {% endfor %}
            </ul>
            {% endif %}
          </div>
          {% endfor %}
        </div>
      </div>
      {% endif %} {% if asia_markets %}
      <h2>Financial Markets</h2>

      <!-- IHSG Section with most prominence -->
      <div class="trend-item" style="margin-bottom: 30px">
        <h3 style="text-align: center">Indonesia Stock Exchange (IHSG)</h3>
        <div
          style="display: flex; flex-wrap: wrap; justify-content: space-between"
        >
          <div style="flex: 1; min-width: 300px">
            <h4>{{ ihsg_data.shortName }}</h4>
            <p style="font-size: 1.2em">
              Price: <strong>{{ ihsg_data.regularMarketPrice }}</strong>
            </p>
            {% if ihsg_data.regularMarketChangePercent > 0 %}
            <p style="color: green; font-size: 1.1em">
              Change: +{{ ihsg_data.regularMarketChange|round(2) }} (+{{
              ihsg_data.regularMarketChangePercent|round(2) }}%)
            </p>
            {% else %}
            <p style="color: red; font-size: 1.1em">
              Change: {{ ihsg_data.regularMarketChange|round(2) }} ({{
              ihsg_data.regularMarketChangePercent|round(2) }}%)
            </p>
            {% endif %}
          </div>
          <div style="flex: 1; min-width: 300px">
            <p>Previous Close: {{ ihsg_data.previousClose }}</p>
            <p>Day Range: {{ ihsg_data.dayLow }} - {{ ihsg_data.dayHigh }}</p>
            <p>52 Week Range: {{ ihsg_data.fiftyTwoWeekRange }}</p>
            {% if ihsg_data.averageVolume %}
            <p>Average Volume: {{ ihsg_data.averageVolume }}</p>
            {% endif %}
            <p>Exchange: {{ ihsg_data.exchange }}</p>
          </div>
        </div>
      </div>

      <!-- Asian Markets in 2 rows, 3 items per row -->
      <h3>Asian Markets</h3>
      <div
        style="
          display: grid;
          grid-template-columns: repeat(3, 1fr);
          gap: 15px;
          margin-bottom: 30px;
        "
      >
        {% for market_key, market_data in asia_markets.items() %}
        <div class="trend-item">
          <h4>{{ market_data.shortName }}</h4>
          <p>{{ market_data.regularMarketPrice }}</p>
          {% if market_data.regularMarketChangePercent > 0 %}
          <p style="color: green">
            +{{ market_data.regularMarketChange|round(2) }} (+{{
            market_data.regularMarketChangePercent|round(2) }}%)
          </p>
          {% else %}
          <p style="color: red">
            {{ market_data.regularMarketChange|round(2) }} ({{
            market_data.regularMarketChangePercent|round(2) }}%)
          </p>
          {% endif %}
          <p>{{ market_data.fullExchangeName }}</p>
        </div>
        {% endfor %}
      </div>
      {% endif %} {% if wiki_articles %}
      <h2>Random Wikipedia Articles</h2>
      <div class="grid-2-columns">
        <div>
          {% for article in wiki_articles[:5] %}
          <div class="trend-item">
            <h4>
              <a
                href="{{ article.url }}"
                target="_blank"
                rel="noopener noreferrer"
              >
                {{ article.title }}
              </a>
            </h4>
            <p>{{ article.summary }}</p>
          </div>
          {% endfor %}
        </div>
        <div>
          {% for article in wiki_articles[5:] %}
          <div class="trend-item">
            <h4>
              <a
                href="{{ article.url }}"
                target="_blank"
                rel="noopener noreferrer"
              >
                {{ article.title }}
              </a>
            </h4>
            <p>{{ article.summary }}</p>
          </div>
          {% endfor %}
        </div>
      </div>
      {% endif %}

      <!-- HuggingFace Section -->
      <h2>AI Ecosystem Trends</h2>
      <div class="trend-item" style="margin-bottom: 20px">
        <h4 style="text-align: center">Top Trending on HuggingFace</h4>
        <p style="text-align: center">
          Highlighting the latest AI models, spaces, and datasets
        </p>
      </div>

      <!-- Model Collections Section -->
      {% if huggingface_collections %}
      <h3 style="margin-top: 30px; margin-bottom: 15px">
        Trending Collections
      </h3>
      <div
        style="
          display: grid;
          grid-template-columns: repeat(2, 1fr);
          gap: 20px;
          margin-bottom: 40px;
        "
      >
        {% for collection in huggingface_collections[:6] %}
        <div class="trend-item">
          <div style="display: flex; align-items: center; margin-bottom: 10px">
            {% if collection.avatar_url %}
            <img
              src="{{ collection.avatar_url }}"
              alt="Avatar"
              style="
                width: 40px;
                height: 40px;
                border-radius: 50%;
                margin-right: 10px;
              "
            />
            {% endif %}
            <h3 style="margin: 0">
              <a
                href="https://huggingface.co/collections/{{ collection.owner_name }}/{{ collection.title.lower().replace(' ', '-') }}"
                target="_blank"
                rel="noopener noreferrer"
              >
                {{ collection.title }}
              </a>
            </h3>
          </div>
          {% if collection.description %}
          <p>{{ collection.description }}</p>
          {% endif %}
          <p>
            Creator: <strong>{{ collection.owner }}</strong> | Upvotes:
            <strong>{{ collection.upvotes }}</strong>
          </p>
          <p>
            Updated: {{ collection.last_updated }} {% if
            collection.dominant_task_readable %} | Specialty:
            <strong>{{ collection.dominant_task_readable }}</strong>
            {% endif %}
          </p>

          {% if collection.models_list %}
          <h4>Top Models:</h4>
          <ul>
            {% for model in collection.models_list[:3] %}
            <li>
              <span style="color: #2563eb">üìä</span>
              <a
                href="https://huggingface.co/{{ model.id }}"
                target="_blank"
                rel="noopener noreferrer"
                >{{ model.id }}</a
              >
              ({{ model.downloads }} downloads, {{ model.likes }} likes)
            </li>
            {% endfor %}
          </ul>
          {% endif %}
        </div>
        {% endfor %}
      </div>
      {% endif %}

      <!-- Spaces and Datasets in two columns -->
      <div
        style="
          display: grid;
          grid-template-columns: repeat(2, 1fr);
          gap: 30px;
          margin-bottom: 40px;
        "
      >
        <!-- Trending Spaces Section -->
        {% if huggingface_spaces %}
        <div>
          <h3 style="margin-top: 20px; margin-bottom: 15px">Trending Spaces</h3>
          {% for space in huggingface_spaces[:5] %}
          <div class="trend-item" style="margin-bottom: 15px">
            <div
              style="display: flex; align-items: center; margin-bottom: 10px"
            >
              {% if space.avatar_url %}
              <img
                src="{{ space.avatar_url }}"
                alt="Avatar"
                style="
                  width: 40px;
                  height: 40px;
                  border-radius: 50%;
                  margin-right: 10px;
                "
              />
              {% endif %}
              <h4 style="margin: 0">
                <span style="color: #10b981">üöÄ</span>
                <a
                  href="https://huggingface.co/spaces/{{ space.id }}"
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  {{ space.title|default(space.id) }}
                </a>
                {% if space.emoji %}{{ space.emoji }}{% endif %}
              </h4>
            </div>
            <p>
              Creator: <strong>{{ space.author }}</strong> | Likes:
              <strong>{{ space.likes }}</strong>
            </p>
            {% if space.sdk %}
            <p>
              Framework:
              <span
                style="
                  background-color: #e2f5ea;
                  padding: 2px 6px;
                  border-radius: 4px;
                "
                >{{ space.sdk }}</span
              >
            </p>
            {% endif %} {% if space.tags %}
            <div>
              {% for tag in space.tags[:5] %}
              <span
                style="
                  font-size: 0.8em;
                  background-color: #f0f0f0;
                  padding: 2px 6px;
                  border-radius: 4px;
                  margin-right: 5px;
                "
                >{{ tag }}</span
              >
              {% endfor %}
            </div>
            {% endif %}
          </div>
          {% endfor %}
        </div>
        {% endif %}

        <!-- Trending Datasets Section -->
        {% if huggingface_datasets %}
        <div>
          <h3 style="margin-top: 20px; margin-bottom: 15px">
            Trending Datasets
          </h3>
          {% for dataset in huggingface_datasets[:5] %}
          <div class="trend-item" style="margin-bottom: 15px">
            <div
              style="display: flex; align-items: center; margin-bottom: 10px"
            >
              {% if dataset.avatar_url %}
              <img
                src="{{ dataset.avatar_url }}"
                alt="Avatar"
                style="
                  width: 40px;
                  height: 40px;
                  border-radius: 50%;
                  margin-right: 10px;
                "
              />
              {% endif %}
              <h4 style="margin: 0">
                <span style="color: #f59e0b">üìö</span>
                <a
                  href="https://huggingface.co/datasets/{{ dataset.id }}"
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  {{ dataset.id }}
                </a>
              </h4>
            </div>
            <p>
              Creator: <strong>{{ dataset.author }}</strong> | Likes:
              <strong>{{ dataset.likes }}</strong> | Downloads:
              <strong>{{ dataset.downloads }}</strong>
            </p>
            {% if dataset.tags %}
            <div>
              {% for tag in dataset.tags[:3] %}
              <span
                style="
                  font-size: 0.8em;
                  background-color: #f0f0f0;
                  padding: 2px 6px;
                  border-radius: 4px;
                  margin-right: 5px;
                "
                >{{ tag }}</span
              >
              {% endfor %}
            </div>
            {% endif %}
          </div>
          {% endfor %}
        </div>
        {% endif %}
      </div>

      <!-- HuggingFace Daily Papers Section -->
      {% if huggingface_papers %}
      <h2 style="margin-top: 30px">HuggingFace Daily Papers</h2>
      <p style="text-align: center; margin-bottom: 20px">
        Latest AI research papers featured on HuggingFace
      </p>

      <div
        style="
          display: grid;
          grid-template-columns: repeat(2, 1fr);
          gap: 20px;
          margin-bottom: 40px;
        "
      >
        {% for paper in huggingface_papers %}
        <div
          class="trend-item"
          style="margin-bottom: 15px; display: flex; flex-direction: column"
        >
          <div style="display: flex; align-items: flex-start">
            {% if paper.thumbnail %}
            <img
              src="{{ paper.thumbnail }}"
              alt="Paper thumbnail"
              style="
                width: 120px;
                height: auto;
                margin-right: 15px;
                border-radius: 6px;
              "
            />
            {% endif %}

            <div>
              <h4 style="margin-top: 0; margin-bottom: 10px">
                <span style="color: #8b5cf6">üìÑ</span>
                <a
                  href="https://huggingface.co/papers/{{ paper.id }}"
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  {{ paper.title }}
                </a>
              </h4>

              <div style="margin-bottom: 8px">
                {% if paper.published_at %}
                <span style="font-size: 0.9em; color: #666"
                  >Published: {{ paper.published_at }}</span
                >
                {% endif %}
                <span style="font-size: 0.9em; color: #666; margin-left: 10px"
                  >‚ù§Ô∏è {{ paper.upvotes }}</span
                >
              </div>

              <p style="font-size: 0.9em; margin-bottom: 10px">
                {% if paper.authors %}
                <strong>Authors:</strong> {{ paper.authors|join(', ') }} {%
                endif %} {% if paper.submitter %} <br /><strong
                  >Submitted by:</strong
                >
                {{ paper.submitter }} {% endif %}
              </p>
            </div>
          </div>

          {% if paper.summary %}
          <div style="margin-top: 10px">
            <p style="font-size: 0.9em; color: #444; margin-bottom: 10px">
              {{ paper.summary[:200] }}{% if paper.summary|length > 200 %}...{%
              endif %}
            </p>
          </div>
          {% endif %} {% if paper.keywords %}
          <div style="margin-top: auto">
            {% for keyword in paper.keywords[:5] %}
            <span
              style="
                font-size: 0.8em;
                background-color: #f3f4f6;
                padding: 2px 6px;
                border-radius: 4px;
                margin-right: 5px;
                display: inline-block;
                margin-bottom: 5px;
              "
            >
              {{ keyword }}
            </span>
            {% endfor %}
          </div>
          {% endif %}

          <div style="margin-top: 10px; display: flex; gap: 10px">
            {% if paper.project_page %}
            <a
              href="{{ paper.project_page }}"
              target="_blank"
              rel="noopener noreferrer"
              style="
                font-size: 0.8em;
                text-decoration: none;
                color: white;
                background-color: #2563eb;
                padding: 4px 10px;
                border-radius: 4px;
              "
            >
              Project Page
            </a>
            {% endif %} {% if paper.github_repo %}
            <a
              href="{{ paper.github_repo }}"
              target="_blank"
              rel="noopener noreferrer"
              style="
                font-size: 0.8em;
                text-decoration: none;
                color: white;
                background-color: #333;
                padding: 4px 10px;
                border-radius: 4px;
              "
            >
              GitHub
            </a>
            {% endif %}
          </div>
        </div>
        {% endfor %}
      </div>
      {% endif %}
    </div>
  </body>
</html>
